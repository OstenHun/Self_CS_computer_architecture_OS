<aside>

- 교착 상태 예방
- 교착 상태 회피
- 교착 상태 검출 후 회복
</aside>

# 교착 상태 해결 방법

- 예방
    - 운영체제가 교착 상태 발생 조건에 부합하지 않게 자원 분배하여 예방.
- 회피
    - 조금씩 자원을 할당하다가 교착 상태의 위험이 있다면 자원을 할당하지 않음.
- 검출 후 회복
    - 자원을 제약 없이 할당하다가 교착 상태가 검출되면 교착 상태를 회복.

## 교착 상태 예방

- 상호 배제 제거
    
    → 모든 자원의 상호 배제는 현실적으로 어렵다.
    
- 점유와 대기 제거
    
    → 운영체제는 특정 프로세스에 자원을 모두 할당하거나, 아예 할당하지 않는 방식으로 배분한다.
    
    → 이론적으론 교착 상태 해결 가능. 
    
    But, 자원의 활용률이 낮아질 수 있음. 한 프로세스에 필요한 자원을 몰아주고, 그 다음에 다른 프로세스에 필요한 자원을 몰아줘야함.ㅌ`
    
    많은 자원을 사용하는 프로세스가 불리해짐. 자원을 많이 사용하는 프로세스는 동시에 자원을 사용할 타이밍 확보가 어려움
    
- 비선점 조건 제거
    
    → 자원 이용 중인 프로세스로부터 자원 탈취 가능.
    
    철학자 문제에서 생각하면 포크를 빼앗을 수 있는 것.
    
    → 모든 자원을 선점 가능한 것은 아니다. → 프린터 자원.
    
- 원형 대기 조건 제거
    
    → 모든 자원에 번호를 붙이고, 오름차순으로 자원을 할당.
    
    But, 모든 컴퓨터 시스템 내에 존재하는 수많은 자원에 번호를 붙이는 일은 쉽지 않다.
    
    또한, 특정 자원의 활용률이 떨어질 수 있음.
    

⇒ 예방 방식은 교착 상태가 발생하지 않음을 보장할 수는 있지만 여러 부작용이 따른다.

## 교착 상태 회피

- 교착 상태가 발생하지 않을 정도로만 조심 조심 자원을 할당하는 방식.
    - 교착 상태 → 한정된 자원의 무분별한 할당으로 인해 발생하는 문제.

- 안전 상태 : 교착 상태가 발생하지 않고 모든 프로세스가 정상적으로 자원을 할당받고 종료될 수 있는 상태
    - 안전 순서열대로 프로세스들에 자원을 배분하여 교착 상태가 발생하지 않는 상태.
- 불안전 상태: 교착 상태가 발생할 수도 있는 상황
    - 안전 순서열이 없는 상황
- 안전 순서열: 교착 상태 없이 안전하게 프로세스들에 자원을 할당할 수 있는 순서.
    - e.g.) 웹 브라우저, 메모장, 게임 프로세스가 동시에 운영체제에 자원 요청 →
        
        웹 브라우저 - 메모장 - 게임 (교착 상태 X 가정) ; 안전 순서열
        

 

- 은행원 알고리즘
    
    https://velog.io/@minu-j/%EC%9A%B4%EC%98%81%EC%B2%B4%EC%A0%9C-%EB%A7%8C%ED%99%94%EB%A1%9C-%EC%95%8C%EC%95%84%EB%B3%B4%EB%8A%94-%EC%9D%80%ED%96%89%EC%9B%90-%EC%95%8C%EA%B3%A0%EB%A6%AC%EC%A6%98-%EA%B5%90%EC%B0%A9%EC%83%81%ED%83%9C-%ED%9A%8C%ED%94%BC-%EC%95%8C%EA%B3%A0%EB%A6%AC%EC%A6%98
    

## 교착 상태 검출 후 회복

→ 교착 상태 발생을 인정하고 사후에 조치하는 방식

- 프로세스들이 자원을 요구할 때마다 모두 할당 → 교착 상태 여부 주기적 검사.

- 선점을 통한 회복
    - 교착 상태가 해결될 때까지 한 프로세스씩 자원을 몰아주는 방식
- 프로세스 강제 종료를 통한 회복
    - 교착 상태에 놓인 프로세스 모두 강제 종료. → 많은 프로세스들이 작업 내역 잃을 수 있음
    - 교착 상태가 사라질 때까지 한 프로세스씩 강제 종료 → 확인 과정에서 오버헤드 발생 가능

## 타조 알고리즘

→ 교착 상태를 아예 무시하는 방법.

드물게 발생하는 잠재적 문제를 무시로 대처하는 방식.

## 마무리

### 키워드

- 교착 상태 예방
    - 교착 상태의 발생 조건 중 하나를 충족하지 못하게 하는 방법
- 교착 상태 회피
    - 안전 상태를 유지할 수 있는 경우에만 자원을 할당하는 방법
- 교착 상태 검출 후 회복
    - 교착 상태 발생 여부를 주기적으로 검사한 후, 교착 상태 발생 시 그때그때 회복하는 방식.

### 확인 문제

- 교착 상태가 발생했다면 선점을 통한 회복, 프로세스 강제 종료를 통한 회복 두 가지 방법으로 회복 가능하다.
- 5개 → P2에 자원 두 개를 할당하면 남은 자원은 3-2 = 1개가 되며, P2가 실행을 성공적으로 종료해 자원을 반납하면 1+4=5개가 된다.
- 타조 알고리즘은 교착 상태를 무시하는 방법.
- 원형 대기 조건 제거함으로써 교착 상태를 예방할 수 있다.