<aside>

- 뮤텍스 락
- 세마포
- 모니터
</aside>

## 동기화 기법

### 뮤텍스 락

- 목적 : 상호 배제 (Mutual Exclusion). 임계 구역에 오직 하나의 프로세스만 진입하도록 보장.
- 주요 연산 :
    - acquire : 임계 구역 진입 전 자물쇠 획득. 자물쇠가 잠겨있다면 풀릴 때까지 대기.
    - release: 임계 구역에서 나온 후 자물쇠를 반환.
- 특징 :
    - 바쁜 대기 (Busy Waiting) : 자물쇠가 풀릴 때까지 확인하는 방식(반복문) → 비효율;CPU 자원 낭비
    - 하나의 자원 보호하는 데 사용.

### 세마포

- 목적 : 상호 배제 및 실행 순서 제어
- 종류 :
    - 이진 세마포 (Binary Semaphore): 값이 0 또는 1만 가지며, 뮤텍스와 유사하게 동작.
    - 카운팅 세마포 (Counting Semaphore): 0 이상의 정수 값을 가지며, 여러 개의 가용 자원을 관리 가능.
- 주요 연산:
    - wait (P 연산): 자원을 획득하려 시도합니다. 가용 자원(S 값)을 1 감소시키며, 만약 자원이 없으면(S가 0 이하) 대기합니다.
    - signal (V 연산): 자원을 사용한 후 반납합니다. 가용 자원(S 값)을 1 증가시키고, 대기 중인 프로세스가 있다면 깨웁니다.
- 주요 특징:
    - 대기 큐 (Wait Queue): 바쁜 대기 문제를 해결하기 위해, 자원이 없을 때 프로세스를 대기 상태로 전환하고 대기 큐에 넣습니다. signal이 호출되면 큐에서 프로세스를 꺼내 준비 상태로 만듭니다.
    - 실행 순서 제어: 세마포 값을 0으로 초기화하고, 먼저 실행되어야 하는 프로세스가 작업 후 signal을, 나중에 실행될 프로세스가 작업 전 wait를 호출하게 하여 실행 순서를 보장할 수 있습니다.

### 모니터

- 목적: 세마포의 사용상 번거로움과 실수를 줄이고, 상호 배제와 실행 순서 제어를 더 편리하게 제공.
- 주요 특징:
    - 자동 상호 배제: 모니터 자체는 한 번에 하나의 프로세스만 내부에 진입할 수 있도록 보장. 개발자가 매번 락을 걸고 해제할 필요 없다.
    - 공유 자원 캡슐화: 공유 자원과 해당 자원에 접근하는 함수(프로시저)들을 하나로 묶어서 관리.
    - 조건 변수 (Condition Variable): 모니터 내부에서의 실행 순서 제어를 위해 사용됩니다.
        - wait: 특정 조건이 만족될 때까지 프로세스를 대기시킴. (세마포의 wait와 달리 락은 해제하고 대기)
        - signal: 해당 조건이 만족되었음을 대기 중인 프로세스에게 알리고 깨움.

## 정리

### 키워드

- 뮤텍스 락
    - 임계 구역을 잠금으로써 프로세스 간의 상호 배제를 이룬다.
- 세마포
    - 공유 자원이 여러 개 있는 임계 구역 문제도 해결할 수 있는 동기화 도구.
- 모니터
    - 세마포에 비해 사용자가 사용하기 편리한 동기화 도구로 조건 변수를 사용.

### 확인 문제

- 반드시 바쁜 대기를 할 필요는 없다. 대기 상태로 접어들게 할 수도 있음
- 스레드 B가 조건 변수 y에 대해 대기 상태에 있으므로 y.signal을 호출하면 스레드 B가 실행된다.
- 세마포를 이용하면 동시에 실행되는 프로세스 혹은 스레드 간에 상호 배제를 위한 동기화와 실행 순서 제어를 위한 동기화를 할 수 있다.